DROP FUNCTION IF EXISTS InvalidId;

DELIMITER $$

CREATE FUNCTION InvalidId() RETURNS VARCHAR(20) DETERMINISTIC
BEGIN
    RETURN 'Niepoprawny numer ID';
END $$

DELIMITER ;


DROP PROCEDURE IF EXISTS FindUserByID;

DELIMITER $$

CREATE PROCEDURE FindUserByID(ID INT)
BEGIN
    IF ID > 0 THEN
        SELECT FIRSTNAME FROM READERS WHERE READER_ID = ID;
    ELSE
        SELECT InvalidId() AS ERROR;
    END IF;

    END $$

DELIMITER ;

CALL FindUserByID(0);
